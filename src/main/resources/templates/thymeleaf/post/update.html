<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Three Section Layout</title>
    <link rel="stylesheet" href="../css/layout2.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link rel="stylesheet" href="/css/template-style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


  <style>
    /*기본가닥 맞추기위한 css 추가*/
      /* 홈페이지 관련 스타일 태그 추가 */
      .audio-player {
        text-align: center;
        align-content: center;
        align-items: center;
        margin: 30px;
        margin-left: 200px;
        width: 50px;
        height: 50px;
      
    .guestbook {
        width: 100%;
        border-collapse: collapse;
    }
    .guestbook th,
    .guestbook td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
    }
    .guestbook th {
        background-color: #34495e;
        color: white;
    }
    /* 모달 스타일 */
    /* .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
        padding-top: 60px;
    }
    .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 60%;
        border-radius: 10px;
    }*/
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }
    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
    button {
        border-radius: 4px;
        transition: all 0.3s ease;
    }
    button:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .menu-icon svg:hover {
        transform: scale(1.1);
        /* 호버 시 확대 효과 */
        background-color: #1abc9c;
    }
    .menu-icon button:hover {
        transform: scale(1.1);
        /* 호버 시 확대 효과 */
        background-color: #1abc9c;
    }
    .menu-icon svg {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        /* 동그랗게 만듦 */
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s;
    }
    .menu-icon button {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        /* 동그랗게 만듦 */
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s;
    }
    /*현목님 스타일만 추가 지정*/
    .menu-icon
    a:link,
    .menu-icon
    a:visited {
    color:currentColor;
    }
    </style>




    <style>
      /* 기본 이미지 미리 보기 크기 */
      .image-preview {
        width: 350px;
        height: 350px;
        object-fit: contain;
        border: 1px solid #ddd;
        margin-top: 10px;
      }
      .main-content {
        display: flex;
        justify-content: center; /* 수평 중앙 정렬 */
        align-items: center; /* 수직 중앙 정렬 */
      }
      .create-btn {
        margin-top: 20px;
        width: 100px;
        height: 50px;
        background-color: rgb(161, 161, 193);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <aside class="sidebar">
        <!-- 상단 메뉴 -->
        <div class="menu-top">
          <a href="/baseleap/postlist" class="menu-icon" title="게시글 보기">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-list-columns-reverse" viewBox="0 0 16 16">
                  <path fill-rule="evenodd"
                      d="M0 .5A.5.5 0 0 1 .5 0h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 0 .5m4 0a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1h-10A.5.5 0 0 1 4 .5m-4 2A.5.5 0 0 1 .5 2h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-4 2A.5.5 0 0 1 .5 4h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m-4 2A.5.5 0 0 1 .5 6h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5m-4 2A.5.5 0 0 1 .5 8h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5m-4 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1h-10a.5.5 0 0 1-.5-.5m-4 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m-4 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m4 0a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5" />
              </svg></a>
              <a th:href="@{/baseleap/home/page(pageUserId=${session.homePageId})}" class="menu-icon" title="방명록 보기">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-text" viewBox="0 0 16 16">
                  <path
                      d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5" />
                  <path
                      d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2" />
                  <path
                      d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z" />
              </svg></a>
          <a href="/baseleap/my-page/search" class="menu-icon" title="유저 검색"><svg
                  xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-search" viewBox="0 0 16 16">
                  <path
                      d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
              </svg></a>
      </div>
          <!-- 유저 프로필 영역 -->
          <div class="user-profile">
              <a th:href="@{/baseleap/home/page(pageUserId=${session.homePageId})}">
                <img th:src="@{${profileImgPath}}" alt="Profile Picture" class="profile-picture">
              </a>
              <div class="user-info">
                  <h2 th:text="${userNickName} + '\'s HomePage'">${nickname}'s HomePage</h2>
                  <hr>
                  <p th:text="${userIntroduce}">${userIntroduce}</p>
              </div>
          </div>
            <!-- 하단 메뉴 -->
            <div class="menu-bottom">
              <a href="#" class="menu-icon" title="게시글 쓰기"><svg xmlns="http://www.w3.org/2000/svg"
                      width="16" height="16" fill="currentColor" class="bi bi-pencil-square"
                      viewBox="0 0 16 16">
                      <path
                          d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
                      <path fill-rule="evenodd"
                          d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z" />
                  </svg></a>
                            <!-- 현재 로그인한 유저가 페이지 소유자인 경우 홈피 꾸미기 버튼이 보이도록 설정 -->
              <span th:if="${session.loginUserId == session.homePageId}">
                <a class="menu-icon" id="openSettings">
                    <!-- SVG 코드 그대로 유지 -->
                    <svg xmlns="http://www.w3.org/2000/svg"
                    width="16" height="16" fill="currentColor" class="bi bi-pen"
                    viewBox="0 0 16 16">
                    <path
                        d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z" />
                </svg>
                </a>
                <a th:href="@{/baseleap/my-page/info}" class="menu-icon" title="페이지 설정">
                    <!-- SVG 코드 그대로 유지 -->
                    <svg xmlns="http://www.w3.org/2000/svg"
                    width="16" height="16" fill="currentColor" class="bi bi-gear"
                    viewBox="0 0 16 16">
                    <path
                        d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0" />
                    <path
                        d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z" />
                </svg></a>
                </a>
              </span>
            <!-- 로그인 유저가 페이지 소유자가 아닌 경우 '나의 한마디' 버튼이 보이도록 설정 -->
            <span th:if="${session.loginUserId != session.homePageId}">
                <a class="menu-icon" id="openGuestBookForm">
                    <!-- SVG 코드 그대로 유지 -->
                    <svg xmlns="http://www.w3.org/2000/svg"
                    width="16" height="16" fill="currentColor" class="bi bi-pen"
                    viewBox="0 0 16 16">
                    <path
                        d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z" />
                </svg>
                </a>
                <a href="#" class="menu-icon" title="페이지 설정">
                    <!-- SVG 코드 그대로 유지 -->
                    <svg xmlns="http://www.w3.org/2000/svg"
                    width="16" height="16" fill="currentColor" class="bi bi-gear"
                    viewBox="0 0 16 16">
                    <path
                        d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0" />
                    <path
                        d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z" />
                </svg></a>
                </a>
              </span>
  
  
                        </div>
      </aside>
  
  

      <main class="content">
        <form
          action="/baseleap/postupdate"
          method="post"
          enctype="multipart/form-data"
        >
          <div class="post-create-content">
            <input type="text" id="userId" value="1" name="userId" />
            <input
              type="text"
              id="postId"
              th:value="${updatePost.id}"
              name="postId"
            />
            <input
              type="text"
              th:value="${updatePost.image1}"
              name="prevImage"
            />
            <input
              type="text"
              th:value="${updatePost.image2}"
              name="prevImage"
            />
            <input
              type="text"
              th:value="${updatePost.image3}"
              name="prevImage"
            />
            <p>제목</p>
            <input
              type="text"
              id="title"
              name="title"
              th:value="${updatePost.title}"
            />
            <p>내용</p>
            <textarea
              id="content"
              name="content"
              th:text="${updatePost.content}"
            ></textarea>
            <p>이미지1</p>
            <input
              class="image1"
              id="image1"
              type="file"
              name="updateImage"
              accept="image/*"
              onchange="previewImage(event, 'preview1')"
            />
            <div>
              <img
                th:src="${updatePost.image1 != null ? updatePost.image1 : ''}"
                id="preview1"
                class="image-preview"
                src=""
                alt="이미지1 미리보기"
                th:classappend="${updatePost.image1 == null ? 'hidden' : ''}"
              />
            </div>
            <p>이미지2</p>
            <input
              th:value="${updatePost.image2 != null ? updatePost.image2 : ''}"
              class="image2"
              id="image2"
              type="file"
              name="updateImage"
              accept="image/*"
              onchange="previewImage(event, 'preview2')"
            />
            <div>
              <img
                th:src="${updatePost.image2 != null ? updatePost.image2 : ''}"
                id="preview2"
                class="image-preview"
                src=""
                alt="이미지2 미리보기"
                th:classappend="${updatePost.image2 == null ? 'hidden' : ''}"
              />
            </div>
            <p>이미지3</p>
            <input
              class="image3"
              id="image3"
              type="file"
              name="updateImage"
              accept="image/*"
              th:value="${updatePost.image3 != null ? updatePost.image3 : ''}"
              onchange="previewImage(event, 'preview3')"
            />
            <div>
              <img
                th:src="${updatePost.image3 != null ? updatePost.image3 : ''}"
                id="preview3"
                class="image-preview"
                src=""
                alt="이미지3 미리보기"
                th:classappend="${updatePost.image3 == null ? 'hidden' : ''}"
              />
            </div>
            <button class="update-btn" type="submit">등록</button>
          </div>
        </form>
      </main>
    </div>

    <script>
      function previewImage(event, previewId) {
        const file = event.target.files[0];
        const preview = document.getElementById(previewId);
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            preview.src = e.target.result;
          };
          reader.readAsDataURL(file);
          preview.removeAttribute("hidden");
        } else {
          preview.src = "";
        }
      }

      //   $(".create-btn").click(function () {
      //     let data = {
      //       title: $("#title").val(),
      //       content: $("#content").val(),
      //       image1: $("#image1").val(),
      //       image2: $("#image2").val(),
      //       image3: $("#image3").val(),
      //       userId: $("#userId").val(),
      //     };
      //     $.ajax({
      //       type: "post",
      //       url: "/baseleap/postcreate",
      //       data: JSON.stringify(data),
      //       contentType: "application/json; charset=utf-8",
      //     }).done(function (resp) {
      //       console.log(status);
      //     });
      //   });
    </script>
  </body>
</html>
